webpackJsonp([1],{"+amA":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){var e=a("4Trx"),i=(a.n(e),a("2ut9")),n=(a.n(i),a("7+uW")),s=a("dyqq"),r=a("s6c0"),o=a("3qSa");n.a.config.productionTip=!1,t.defaults.baseURL="http://localhost:3000",t.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",new n.a({el:"#app",router:r.a,store:o.a,template:"<App/>",components:{App:s.a}})}.call(e,a("mtWM"))},"+fdY":function(t,e,a){"use strict";function i(t){a("3qbL")}var n=a("PSlu"),s=a("exJh"),r=a("VU/8"),o=i,c=r(n.a,s.a,!1,o,"data-v-3e2e7bda",null);e.a=c.exports},"+srw":function(t,e,a){"use strict";function i(t){a("421u")}var n=a("EwwH"),s=a("KkOs"),r=a("VU/8"),o=i,c=r(n.a,s.a,!1,o,"data-v-122a1eaa",null);e.a=c.exports},"+zRA":function(t,e,a){"use strict";function i(t){a("lvK5")}var n=a("ZJjv"),s=a("a3T/"),r=a("VU/8"),o=i,c=r(n.a,s.a,!1,o,"data-v-882e3598",null);e.a=c.exports},"/g2B":function(t,e,a){"use strict";function i(t){a("ONb+")}var n=a("tk68"),s=a("NppY"),r=a("VU/8"),o=i,c=r(n.a,s.a,!1,o,"data-v-3c4efa3f",null);e.a=c.exports},0:function(t,e){},"02M3":function(t,e,a){"use strict";function i(t){a("vUEq")}var n=a("vR1X"),s=a("wTV3"),r=a("VU/8"),o=i,c=r(n.a,s.a,!1,o,"data-v-5cb17bb6",null);e.a=c.exports},"1bGF":function(t,e){},"1p5e":function(t,e){},"1yN5":function(t,e){},"2ut9":function(t,e){!function(t){function e(){var t,e;t=document.createElement("div"),t.innerHTML=a,a=null,(e=t.getElementsByTagName("svg")[0])&&(e.setAttribute("aria-hidden","true"),e.style.position="absolute",e.style.width=0,e.style.height=0,e.style.overflow="hidden",r(e,document.body))}var a='<svg><symbol id="icon-huiyuanbiaoqian" viewBox="0 0 1024 1024"><path d="M748.8 499.2c12.8-12.8 12.8-32 0-44.8l-272-272c-12.8-12.8-32-12.8-44.8 0L99.2 512l64 252.8 252.8 64 332.8-329.6zM521.6 137.6l272 272c38.4 38.4 38.4 99.2 0 134.4L448 889.6c-6.4 6.4-19.2 9.6-32 9.6l-288-73.6c-12.8-3.2-19.2-12.8-22.4-22.4L32 512c-3.2-9.6 0-22.4 9.6-32L387.2 137.6c35.2-38.4 96-38.4 134.4 0z m121.6 44.8c-12.8-12.8-12.8-32 0-44.8s32-12.8 44.8 0l272 272c38.4 38.4 38.4 99.2 0 134.4L598.4 905.6c-12.8 12.8-32 12.8-44.8 0-12.8-12.8-12.8-32 0-44.8l361.6-361.6c12.8-12.8 12.8-32 0-44.8l-272-272z m-416 518.4c12.8 12.8 32 12.8 44.8 0 12.8-12.8 12.8-32 0-44.8-12.8-12.8-32-12.8-44.8 0-12.8 12.8-12.8 35.2 0 44.8z"  ></path></symbol><symbol id="icon-huiyuannan" viewBox="0 0 1024 1024"><path d="M800 640h-576c-89.6 0-160 70.4-160 160v64c0 54.4 41.6 96 96 96h704c54.4 0 96-41.6 96-96v-64c0-89.6-70.4-160-160-160z m96 224c0 19.2-12.8 32-32 32h-704c-19.2 0-32-12.8-32-32v-64c0-54.4 41.6-96 96-96h576c54.4 0 96 41.6 96 96v64zM288 352c0 124.8 99.2 224 224 224s224-99.2 224-224c19.2 0 32-12.8 32-32v-64c0-19.2-12.8-32-32-32v-32c0-70.4-57.6-128-128-128h-192c-70.4 0-128 57.6-128 128v32c-19.2 0-32 12.8-32 32v64c0 19.2 12.8 32 32 32z m64-160c0-35.2 28.8-64 64-64h192c35.2 0 64 28.8 64 64v160c0 89.6-70.4 160-160 160s-160-70.4-160-160v-160z"  ></path></symbol><symbol id="icon-quanbu" viewBox="0 0 1024 1024"><path d="M512 131.2l-345.6 188.8 345.6 169.6 345.6-169.6-345.6-188.8z m16-64l416 224c22.4 12.8 22.4 44.8 0 57.6l-416 208c-9.6 3.2-19.2 3.2-28.8 0l-416-208c-22.4-12.8-22.4-44.8 0-57.6l416-224c6.4-3.2 19.2-3.2 28.8 0z m-419.2 416l403.2 198.4 403.2-198.4c16-6.4 35.2 0 41.6 16 6.4 16 0 35.2-16 41.6l-428.8 214.4-428.8-214.4c-16-6.4-22.4-25.6-16-41.6 9.6-16 28.8-22.4 41.6-16z m0 192l403.2 198.4 403.2-198.4c16-6.4 35.2 0 41.6 16 6.4 16 0 35.2-16 41.6l-428.8 214.4-428.8-214.4c-16-6.4-22.4-25.6-16-41.6 9.6-16 28.8-22.4 41.6-16z"  ></path></symbol><symbol id="icon-zaixianzhidao" viewBox="0 0 1024 1024"><path d="M854.4 758.4c-6.4 6.4-12.8 9.6-22.4 9.6h-576c-19.2 0-32 12.8-32 32v64c0 9.6 3.2 16 9.6 22.4 6.4 6.4 12.8 9.6 22.4 9.6h576c19.2 0 32 12.8 32 32s-12.8 32-32 32h-576c-54.4 0-96-41.6-96-96v-704c0-54.4 41.6-96 96-96h512c54.4 0 96 41.6 96 96v576c0 9.6-3.2 16-9.6 22.4z m-54.4-54.4v-544c0-19.2-12.8-32-32-32h-512c-19.2 0-32 12.8-32 32v550.4c9.6-3.2 19.2-6.4 32-6.4h544z m-384-448h192c35.2 0 64 28.8 64 64v64c0 35.2-28.8 64-64 64h-192c-35.2 0-64-28.8-64-64v-64c0-35.2 28.8-64 64-64z m0 64v64h192v-64h-192z"  ></path></symbol><symbol id="icon-tuichu" viewBox="0 0 1024 1024"><path d="M195.2 195.2c12.8-12.8 32-12.8 44.8 0 12.8 12.8 12.8 32 0 44.8-73.6 70.4-115.2 169.6-115.2 272 0 211.2 172.8 384 384 384s384-172.8 384-384c0-108.8-44.8-211.2-124.8-281.6-12.8-12.8-12.8-32-3.2-44.8 12.8-12.8 32-12.8 44.8-3.2 92.8 83.2 144 201.6 144 329.6 0 246.4-201.6 448-448 448s-448-201.6-448-448c6.4-121.6 54.4-233.6 137.6-316.8z m316.8-131.2c19.2 0 32 12.8 32 32v384c0 19.2-12.8 32-32 32s-32-12.8-32-32v-384c0-19.2 12.8-32 32-32z"  ></path></symbol></svg>',i=function(){var t=document.getElementsByTagName("script");return t[t.length-1]}(),n=i.getAttribute("data-injectcss"),s=function(t,e){e.parentNode.insertBefore(t,e)},r=function(t,e){e.firstChild?s(t,e.firstChild):e.appendChild(t)};if(n&&!t.__iconfont__svg__cssinject__){t.__iconfont__svg__cssinject__=!0;try{document.write("<style>.svgfont {display: inline-block;width: 1em;height: 1em;fill: currentColor;vertical-align: -0.1em;font-size:16px;}</style>")}catch(t){console&&console.log(t)}}!function(e){if(document.addEventListener)if(~["complete","loaded","interactive"].indexOf(document.readyState))setTimeout(e,0);else{var a=function t(){document.removeEventListener("DOMContentLoaded",t,!1),e()};document.addEventListener("DOMContentLoaded",a,!1)}else document.attachEvent&&function(t,e){var a=t.document,i=!1,n=function(){i||(i=!0,e())};!function t(){try{a.documentElement.doScroll("left")}catch(e){return void setTimeout(t,50)}n()}(),a.onreadystatechange=function(){"complete"==a.readyState&&(a.onreadystatechange=null,n())}}(t,e)}(e)}(window)},"3dbJ":function(t,e,a){"use strict";e.a={id:"",title:"",tags:"",content:"",isPublished:"",toggleDelete:!1}},"3kw9":function(t,e,a){"use strict";(function(t){var i=a("sU/h"),n=a("7Djb");e.a={components:{Editor:n.a,ArticleList:i.a},methods:{postArticle:function(){var e=this;t.post("/api/v1/articles",{},{headers:{Authorization:"Bearer "+localStorage.ashenToken}}).then(function(t){var a=t.data.insertId;e.$refs.articleList.updateList(a)}).catch(function(t){alert(t.message)})}},computed:{title:function(){return this.$store.state.title}}}}).call(e,a("mtWM"))},"3qSa":function(t,e,a){"use strict";var i=a("7+uW"),n=a("NYxO"),s=a("3dbJ"),r=a("pWG4"),o=a("rwTg"),c=a("6UMN");i.a.use(n.a),e.a=new n.a.Store({state:s.a,getters:r,mutations:c,actions:o})},"3qbL":function(t,e){},"421u":function(t,e){},"4Trx":function(t,e){},"4zQk":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("aside",{staticClass:"side-nav"},[a("router-link",{staticClass:"link",attrs:{to:"/lists"}},[a("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[a("use",{attrs:{"xlink:href":"#icon-quanbu"}})]),t._v(" "),a("p",{staticClass:"descript"},[t._v("list")])]),t._v(" "),a("router-link",{staticClass:"link",attrs:{to:"/tags"}},[a("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[a("use",{attrs:{"xlink:href":"#icon-huiyuanbiaoqian"}})]),t._v(" "),a("p",{staticClass:"descript"},[t._v("tags")])]),t._v(" "),a("router-link",{staticClass:"link",attrs:{to:"/readinglists"}},[a("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[a("use",{attrs:{"xlink:href":"#icon-zaixianzhidao"}})]),t._v(" "),a("p",{staticClass:"descript"},[t._v("readings")])]),t._v(" "),a("router-link",{staticClass:"link",attrs:{to:"/about"}},[a("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[a("use",{attrs:{"xlink:href":"#icon-huiyuannan"}})]),t._v(" "),a("p",{staticClass:"descript"},[t._v("about me")])])],1)},n=[],s={render:i,staticRenderFns:n};e.a=s},"6UMN":function(t,e,a){"use strict";function i(t,e){var a=e.id,i=e.title,n=e.tags,s=e.content,r=e.isPublished;t.id=a,t.title=i,t.tags=n,t.content=s,t.isPublished=r}function n(t){t.toggleDelete=!t.toggleDelete}function s(t){t.isPublished=1}Object.defineProperty(e,"__esModule",{value:!0}),e.updateArticle=i,e.deleteArticle=n,e.updatePublishState=s},"7Djb":function(t,e,a){"use strict";function i(t){a("kFoT")}var n=a("ben/"),s=a("RVko"),r=a("VU/8"),o=i,c=r(n.a,s.a,!1,o,"data-v-10c94fcb",null);e.a=c.exports},"7oKG":function(t,e,a){"use strict";var i=a("Gu7T"),n=a.n(i),s=a("sU/h"),r=a("7Djb");e.a={components:{Editor:r.a,ArticleList:s.a},data:function(){return{tags:[],chosenTags:[]}},methods:{chooseTag:function(t){if("LI"===t.target.tagName){var e=t.target.innerHTML;t.target.classList.contains("chosen")?this.chosenTags=this.chosenTags.filter(function(t){return t!==e}):this.chosenTags.push(e),this.$refs.articleList.updateListByTags(this.chosenTags)}},getTags:function(t){var e;(e=this.tags).push.apply(e,n()(t))},changeTag:function(t,e){var a=this.chosenTags[e],i=t.target.value;if(!i)return alert("请直接删除Tag!"),void(t.target.value=a);var n=this.tags.indexOf(a);-1!==this.tags.indexOf(i)?(this.chosenTags.splice(e,1),this.tags.splice(n,1)):(this.chosenTags.splice(e,1,i),this.tags.splice(n,1,i)),this.$refs.articleList.updateArticleTag(a,i,this.chosenTags)},deleteTag:function(t,e){var a=this.tags.indexOf(t);this.chosenTags.splice(e,1),this.tags.splice(a,1),this.$refs.articleList.updateListByTags(this.chosenTags),this.$refs.articleList.deleteArticleTag(t)}}}},AbCK:function(t,e){},ChSf:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{staticClass:"list"},t._l(t.articleList,function(e,i){var n=e.title,s=e.createTime,r=e.isPublished;return e.isChosen?a("li",{staticClass:"article",class:{active:t.activeIndex===i,published:1===r},on:{click:function(e){t.select(i)}}},[a("header",[t._v(t._s(n))]),t._v(" "),a("p",[t._v(t._s(s))])]):t._e()}))},n=[],s={render:i,staticRenderFns:n};e.a=s},EgEF:function(t,e){},EqHB:function(t,e,a){"use strict";var i=a("n6yH"),n=a.n(i),s=a("GTFg"),r=a("VU/8"),o=r(n.a,s.a,!1,null,null,null);e.default=o.exports},EwwH:function(t,e,a){"use strict";(function(t){var i=a("e0XP"),n=(a.n(i),a("xUBe")),s=(a.n(n),a("5x2J")),r=a.n(s);e.a={data:function(){return{id:"",simplemde:""}},mounted:function(){var e=this;this.simplemde=new r.a({autoDownloadFontAwesome:!1,spellChecker:!1}),t.get("/api/v1/briefs").then(function(t){e.id=t.data[0].id,e.simplemde.value(t.data[0].content)})},methods:{updateAbout:function(){t.put("/api/v1/briefs/"+this.id,{content:this.simplemde.value()},{headers:{Authorization:"Bearer "+localStorage.ashenToken}}).catch(function(t){return alert(t)})}}}}).call(e,a("mtWM"))},GTFg:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("time",{staticClass:"clock"},[a("span",{staticClass:"clock__hour"},[t._v(t._s(t.hours))]),t.blink&&t.seconds%2!=0?a("span",[t._v(" ")]):a("span",[t._v(":")]),a("span",{staticClass:"clock__minutes"},[t._v(t._s(t.minutes))]),!t.blink||t.seconds%2==0&&t.displaySeconds?a("span",[t._v(":")]):t.displaySeconds?a("span",[t._v(" ")]):t._e(),t.displaySeconds?a("span",{staticClass:"clock__seconds"},[t._v(t._s(t.seconds))]):t._e()])},n=[],s={render:i,staticRenderFns:n};e.a=s},JUZF:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"list-container main"},[t._m(0),t._v(" "),a("hr"),t._v(" "),a("main",[a("div",{staticClass:"article-list"},[a("section",{staticClass:"btn-container"},[a("button",{staticClass:"not-del",attrs:{id:"add"},on:{click:t.postArticle}},[t._v("new article")])]),t._v(" "),a("article-list",{ref:"articleList"})],1),t._v(" "),a("editor")],1)])},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h2",[t._v("article list /\n        "),a("span",[t._v("ARTICLE LIST")])])}],s={render:i,staticRenderFns:n};e.a=s},KkOs:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"about-container main"},[t._m(0),t._v(" "),a("hr"),t._v(" "),a("main",[a("textarea"),t._v(" "),a("section",{staticClass:"btn-container"},[a("button",{staticClass:"not-del",on:{click:t.updateAbout}},[t._v("submit changes")])])])])},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h2",[t._v(" /\n        "),a("span",[t._v("ABOUT ME")])])}],s={render:i,staticRenderFns:n};e.a=s},M6nh:function(t,e,a){"use strict";e.a={}},NppY:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"reading-list-container main"},[a("div",[a("h1",[t._v("Select an image")]),t._v(" "),a("input",{attrs:{type:"file"},on:{change:t.onFileChange}})]),t._v(" "),t.image?a("div",[a("img",{attrs:{id:"avartar",src:t.image}})]):a("div",[a("img",{attrs:{src:"http://via.placeholder.com/350x250"}})]),t._v(" "),a("button",{on:{click:t.removeImage}},[t._v("Remove image")])])},n=[],s={render:i,staticRenderFns:n};e.a=s},"ONb+":function(t,e){},PSlu:function(t,e,a){"use strict";(function(t){var i=a("L6bb");a.n(i);e.a={data:function(){return{username:"",password:"",message:""}},methods:{login:function(){var e=this;if(!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(this.username))return alert("You have entered an invalid email address!"),!1;t.post("/api/v1/tokens",{username:this.username,password:this.password}).then(function(t){var a=t.data;localStorage.setItem("ashenToken",a),e.$router.push("/lists")}).catch(function(t){var e=t.response.data.error;alert(e)})},signup:function(){var e=this;if(!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(this.username))return alert("You have entered an invalid email address!"),!1;t.post("/api/v1/signup",{username:this.username,password:this.password}).then(function(t){e.message=t.data,"This username already exists!"==e.message?alert("This username already exists!"):"Sign up successfull!"==e.message&&alert("Sign up successfull!")}).catch(function(t){return alert(t)})}}}}).call(e,a("mtWM"))},QIkY:function(t,e,a){"use strict";function i(t){a("EgEF")}var n=a("M6nh"),s=a("4zQk"),r=a("VU/8"),o=i,c=r(n.a,s.a,!1,o,"data-v-57e1b653",null);e.a=c.exports},RVko:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"editor"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"title",attrs:{type:"text",id:"title"},domProps:{value:t.title},on:{input:[function(e){e.target.composing||(t.title=e.target.value)},t.autoSave]}}),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.id&&"/lists"===t.$route.path,expression:"id && $route.path === '/lists'"}],staticClass:"operate-bar"},[a("section",{staticClass:"tag-container"},[a("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[a("use",{attrs:{"xlink:href":"#icon-huiyuanbiaoqian"}})]),t._v(" "),a("ul",{staticClass:"tags"},t._l(t.tags,function(e,i){return a("li",{key:i,staticClass:"tag"},[t._v(t._s(e)+"\n                    "),a("sup",{on:{click:function(e){t.deleteTag(i)}}},[t._v("x")])])})),t._v(" "),t.inputNow?a("input",{staticClass:"tag-input",attrs:{type:"text",id:"tag-input"},on:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.toggleInput(e)},change:t.autoSave}}):a("span",{staticClass:"tag-add",on:{click:t.toggleInput}},[t._v("+")])]),t._v(" "),a("section",{staticClass:"btn-container"},[a("button",{staticClass:"delete",attrs:{id:"delete"},on:{click:t.deleteArticle}},[t._v("delete article")]),t._v(" "),a("button",{staticClass:"not-del",attrs:{id:"submit"},on:{click:t.publishArticle}},[t._v("publish article")])])]),t._v(" "),"/lists"!==t.$route.path?a("p",{staticClass:"tips"},[t._v("标签查询页面只能批量更改标签，修改的文章内容会自动保存。")]):t._e(),t._v(" "),t._m(0)])},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("textarea")])}],s={render:i,staticRenderFns:n};e.a=s},Vj15:function(t,e,a){"use strict";(function(t){var i=a("d7EF"),n=a.n(i),s=a("Dd8w"),r=a.n(s),o=a("BO1k"),c=a.n(o),l=a("Gu7T"),u=a.n(l),h=a("PJh5"),d=a.n(h),v=a("NYxO");d.a.locale("zh-CN"),e.a={data:function(){return{articleList:[],activeIndex:-1}},created:function(){var e=this;t.get("/api/v1/articles").then(function(t){var a,i=!0,n=!1,s=void 0;try{for(var r,o=c()(t.data);!(i=(r=o.next()).done);i=!0){var l=r.value;l.createTime=d()(l.createTime).format("YYYY year MMM DD day HH:mm:ss"),l.isChosen=!0}}catch(t){n=!0,s=t}finally{try{!i&&o.return&&o.return()}finally{if(n)throw s}}if((a=e.articleList).push.apply(a,u()(t.data)),0!==e.articleList.length){e.updateArticle(e.articleList[0]),e.activeIndex=0;var h=[],v=!0,f=!1,g=void 0;try{for(var p,m=c()(e.articleList);!(v=(p=m.next()).done);v=!0){var _=p.value;if(_.tags){var b=!0,y=!1,k=void 0;try{for(var w,x=c()(_.tags.split(","));!(b=(w=x.next()).done);b=!0){var C=w.value;-1===h.indexOf(C)&&h.push(C)}}catch(t){y=!0,k=t}finally{try{!b&&x.return&&x.return()}finally{if(y)throw k}}}}}catch(t){f=!0,g=t}finally{try{!v&&m.return&&m.return()}finally{if(f)throw g}}e.$emit("tags",h)}}).catch(function(t){alert(t)})},methods:r()({updateList:function(e){var a=this;t.get("/api/v1/articles/"+e).then(function(t){var e=t.data[0];e.createTime=d()(e.createTime).format("YYYY year MMM DD day HH:mm:ss"),e.isChosen=!0,a.articleList.unshift(e),a.activeIndex++,a.updateArticle(a.articleList[a.activeIndex])}).catch(function(t){return alert(t)})},updateListByTags:function(t){if(0===t.length){var e=!0,a=!1,i=void 0;try{for(var s,r=c()(this.articleList);!(e=(s=r.next()).done);e=!0){s.value.isChosen=!0}}catch(t){a=!0,i=t}finally{try{!e&&r.return&&r.return()}finally{if(a)throw i}}}else{var o=!0,l=!1,u=void 0;try{for(var h,d=c()(this.articleList);!(o=(h=d.next()).done);o=!0){var v=h.value,f=!1,g=!0,p=!1,m=void 0;try{for(var _,b=c()(t);!(g=(_=b.next()).done);g=!0){var y=_.value;-1!==v.tags.indexOf(y)&&(f=!0)}}catch(t){p=!0,m=t}finally{try{!g&&b.return&&b.return()}finally{if(p)throw m}}v.isChosen=!!f}}catch(t){l=!0,u=t}finally{try{!o&&d.return&&d.return()}finally{if(l)throw u}}var k=!0,w=!1,x=void 0;try{for(var C,T=c()(this.articleList.entries());!(k=(C=T.next()).done);k=!0){var L=C.value,S=n()(L,2),A=S[0];if(S[1].isChosen){this.activeIndex=A,this.updateArticle(this.articleList[this.activeIndex]);break}}}catch(t){w=!0,x=t}finally{try{!k&&T.return&&T.return()}finally{if(w)throw x}}}},updateArticleTag:function(e,a,i){var s=!0,r=!1,o=void 0;try{for(var l,u=c()(this.articleList.entries());!(s=(l=u.next()).done);s=!0){var h=l.value,d=n()(h,2),v=d[0],f=d[1];if(f.tags.length){var g=f.tags.split(","),p=g.indexOf(e);if(-1!==p){-1===g.indexOf(a)?(g[p]=a,f.tags=g.join(","),t.put("/api/v1/tags/"+f.id,{tags:f.tags},{headers:{Authorization:"Bearer "+localStorage.ashenToken}}).catch(function(t){return alert(t)})):this.deleteSpecArticleTag(e,v),this.updateListByTags(i)}}}}catch(t){r=!0,o=t}finally{try{!s&&u.return&&u.return()}finally{if(r)throw o}}this.updateArticle(this.articleList[this.activeIndex])},deleteSpecArticleTag:function(e,a){var i=this.articleList[a];i.tags=i.tags.split(",");var n=i.tags.indexOf(e);i.tags.splice(n,1),i.tags=i.tags.join(","),t.put("/api/v1/tags/"+i.id,{tags:i.tags},{headers:{Authorization:"Bearer "+localStorage.ashenToken}}).catch(function(t){return alert(t)})},deleteArticleTag:function(e){var a=!0,i=!1,n=void 0;try{for(var s,r=c()(this.articleList);!(a=(s=r.next()).done);a=!0){var o=s.value;if(o.tags.length){var l=o.tags.split(","),u=l.indexOf(e);-1!==u&&(1===l.length&&1===o.isPublished?console.error("已发布文章请至少保持一个tag!"):(l.splice(u,1),o.tags=l.join(","),t.put("/api/v1/tags/"+o.id,{tags:o.tags},{headers:{Authorization:"Bearer "+localStorage.ashenToken}}).catch(function(t){return alert(t)})))}}}catch(t){i=!0,n=t}finally{try{!a&&r.return&&r.return()}finally{if(i)throw n}}this.updateArticle(this.articleList[this.activeIndex])},select:function(t){this.activeIndex=t,this.updateArticle(this.articleList[t])}},Object(v.b)(["updateArticle"])),computed:r()({},Object(v.c)(["title","tags","content","isPublished","toggleDelete"])),watch:{title:function(t){0!==this.articleList.length&&(this.articleList[this.activeIndex].title=t)},tags:function(t){0!==this.articleList.length&&(this.articleList[this.activeIndex].tags=t)},content:function(t){0!==this.articleList.length&&(this.articleList[this.activeIndex].content=t)},isPublished:function(t){0!==this.articleList.length&&(this.articleList[this.activeIndex].isPublished=t)},toggleDelete:function(t){this.articleList.splice(this.activeIndex,1),this.activeIndex===this.articleList.length&&this.activeIndex--,0!==this.articleList.length?this.updateArticle(this.articleList[this.activeIndex]):this.updateArticle({id:"",title:"",tags:"",content:""})}}}}).call(e,a("mtWM"))},W4G1:function(t,e,a){function i(t){return a(n(t))}function n(t){var e=s[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}var s={"./en-gb":"hPuz","./zh-cn":"Vz2w"};i.keys=function(){return Object.keys(s)},i.resolve=n,t.exports=i,i.id="W4G1"},ZJjv:function(t,e,a){"use strict";e.a={data:function(){return{width:""}},props:["score"],mounted:function(){this.width=parseInt(getComputedStyle(document.getElementsByClassName("star-item")[0]).width,10)},computed:{itemClasses:function(){for(var t=[],e=Math.floor(2*this.score)/2,a=e%1!=0,i=Math.floor(e),n=0;n<i;n++)t.push("on");for(a&&t.push("half");t.length<5;)t.push("off");return t}},methods:{hovered:function(t){this.$emit("choose-star",{evt:t,width:this.width})}}}},"a3T/":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{staticClass:"star"},t._l(t.itemClasses,function(e,i){return a("span",{key:i,staticClass:"star-item",class:e,attrs:{"data-index":i},on:{mousemove:function(e){t.hovered(e)}}})}))},n=[],s={render:i,staticRenderFns:n};e.a=s},auwP:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tag-container main"},[t._m(0),t._v(" "),a("hr"),t._v(" "),a("main",[a("div",{staticClass:"tag-list"},[a("section",{staticClass:"tag"},[a("h5",[t._v("tag")]),t._v(" "),a("ul",{staticClass:"tags",on:{click:function(e){t.chooseTag(e)}}},t._l(t.tags,function(e,i){return a("li",{key:e,staticClass:"tag",class:{chosen:t.chosenTags.indexOf(e)>-1}},[t._v(t._s(e))])}))]),t._v(" "),a("section",{directives:[{name:"show",rawName:"v-show",value:t.chosenTags.length,expression:"chosenTags.length"}],staticClass:"chosen-tag"},[a("h5",[t._v("edit tag")]),t._v(" "),a("ul",{staticClass:"tags"},t._l(t.chosenTags,function(e,i){return a("li",{staticClass:"tag-edit"},[a("input",{staticClass:"tag-input",attrs:{type:"text"},domProps:{value:e},on:{change:function(e){t.changeTag(e,i)}}}),t._v(" "),a("sup",{on:{click:function(a){t.deleteTag(e,i)}}},[t._v("x")])])}))]),t._v(" "),a("article-list",{ref:"articleList",on:{tags:t.getTags}})],1),t._v(" "),a("editor")],1)])},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h2",[t._v("/\n        "),a("span",[t._v("CHOOSE BY TAG")])])}],s={render:i,staticRenderFns:n};e.a=s},"b/y1":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[t.isLogin?t._e():[a("header-nav"),t._v(" "),a("side-nav")],t._v(" "),a("router-view")],2)},n=[],s={render:i,staticRenderFns:n};e.a=s},"ben/":function(t,e,a){"use strict";(function(t){var i=a("Dd8w"),n=a.n(i),s=a("e0XP"),r=(a.n(s),a("xUBe")),o=(a.n(r),a("5x2J")),c=a.n(o),l=a("NYxO"),u=a("y1vT"),h=a.n(u);e.a={data:function(){return{inputNow:!1,title:"",tags:[],simplemde:"",isPublished:""}},mounted:function(){var t=this;this.simplemde=new c.a({autoDownloadFontAwesome:!1,placeholder:"Talk to me, Ashen one...",spellChecker:!1}),this.title=this.$store.state.title,this.tags=this.$store.getters.getTags,this.simplemde.value(this.$store.state.content),this.isPublished=this.$store.state.isPublished,this.simplemde.codemirror.on("keyHandled",function(){return t.autoSave()}),this.simplemde.codemirror.on("inputRead",function(){return t.autoSave()})},methods:{toggleInput:function(){if(this.inputNow){var t=document.getElementById("tag-input").value;t&&-1===this.tags.indexOf(t)&&this.tags.push(t)}this.inputNow=!this.inputNow},deleteTag:function(t){this.tags.splice(t,1),this.autoSave()},autoSave:h()(function(){this.id&&this.$store.dispatch("saveArticle",{id:this.id,title:this.title,tags:this.tags.join(","),content:this.simplemde.value(),isPublished:this.isPublished})},1e3),monitorChange:function(t){"title"!==t.target.id&&"TEXTAREA"!==t.target.tagName||this.autoSave()},deleteArticle:function(){var e=this;t.delete("/api/v1/articles/"+this.id,{headers:{Authorization:"Bearer "+localStorage.ashenToken}}).then(function(t){e.$store.commit("deleteArticle")}).catch(function(t){return alert(t)})},publishArticle:function(){var e=this;this.isPublished||t.put("/api/v1/articles/publish/"+this.id,{title:this.title,tags:this.tags.join(","),content:this.simplemde.value(),isPublished:1},{headers:{Authorization:"Bearer "+localStorage.ashenToken}}).then(function(t){e.$store.commit("updatePublishState")}).catch(function(t){return alert(t.response.data.error)})}},computed:n()({},Object(l.c)(["id"])),watch:{id:function(t){this.title=this.$store.state.title,this.tags=this.$store.getters.getTags,this.simplemde.value(this.$store.state.content),this.isPublished=this.$store.state.isPublished}}}}).call(e,a("mtWM"))},dyqq:function(t,e,a){"use strict";function i(t){a("1p5e")}var n=a("pV9Y"),s=a("b/y1"),r=a("VU/8"),o=i,c=r(n.a,s.a,!1,o,"data-v-638e24a9",null);e.a=c.exports},e0XP:function(t,e){},exJh:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"login-container"},[a("header",{staticClass:"login-head"}),t._v(" "),a("section",{staticClass:"form"},[t._m(0),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],attrs:{type:"text",id:"user",placeholder:"Username"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password",id:"password",placeholder:"Password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),t._v(" "),a("button",{attrs:{id:"login"},on:{click:t.login}},[t._v("Login")]),t._v(" "),a("button",{attrs:{id:"sign up"},on:{click:t.signup}},[t._v("Sign up")])]),t._v(" "),a("footer")])},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"slogan"},[t._v("Please Login!\n            "),a("span",[t._v("/ Login")])])}],s={render:i,staticRenderFns:n};e.a=s},fsoI:function(t,e,a){t.exports=a.p+"static/img/logo.0e83bf8.png"},g3ia:function(t,e,a){"use strict";function i(t){a("1bGF")}var n=a("3kw9"),s=a("JUZF"),r=a("VU/8"),o=i,c=r(n.a,s.a,!1,o,"data-v-9a758428",null);e.a=c.exports},kFoT:function(t,e){},lvK5:function(t,e){},n6yH:function(t,e){function a(t){return t<10?"0"+t:t}function i(){return new Date}function n(){return a(i().getSeconds())}function s(){return a(i().getMinutes())}function r(){return a(i().getHours())}t.exports={name:"clock",props:["blink","displaySeconds"],data:function(){return{ticker:null,minutes:s(),hours:r(),seconds:n()}},created:function(){var t=this;this.ticker=setInterval(function(){t.minutes=s(),t.hours=r(),t.seconds=n()},1e3)},destroyed:function(){clearInterval(this.ticker)}}},pV9Y:function(t,e,a){"use strict";var i=a("02M3"),n=a("QIkY");e.a={name:"app",data:function(){return{isLogin:!0}},components:{HeaderNav:i.a,SideNav:n.a},watch:{$route:function(t){this.isLogin="/login"===t.path}}}},pWG4:function(t,e,a){"use strict";function i(t){var e=t.tags;return 0!==e.length?e.split(","):[]}Object.defineProperty(e,"__esModule",{value:!0}),e.getTags=i},rwTg:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){a.d(e,"saveArticle",function(){return o});var i=a("Xxa5"),n=a.n(i),s=a("exGp"),r=a.n(s),o=function(){var e=r()(n.a.mark(function e(a,i){var s=a.commit,r=(a.state,i.id),o=i.title,c=i.tags,l=i.content,u=i.isPublished;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.put("/api/v1/articles/update/"+r,{title:o,tags:c,content:l,isPublished:u},{headers:{Authorization:"Bearer "+localStorage.ashenToken}});case 3:s("updateArticle",{id:r,title:o,tags:c,content:l,isPublished:u}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0.response.data.error);case 9:case"end":return e.stop()}},e,this,[[0,6]])}));return function(t,a){return e.apply(this,arguments)}}()}.call(e,a("mtWM"))},s6c0:function(t,e,a){"use strict";(function(t){var i=a("7+uW"),n=a("/ocq"),s=a("+fdY"),r=a("g3ia"),o=a("v1Ca"),c=a("/g2B"),l=a("+srw");i.a.use(n.a);var u=0,h=new n.a({routes:[{path:"/login",component:s.a},{path:"/lists",component:r.a},{path:"/tags",component:o.a},{path:"/readinglists",component:c.a},{path:"/about",component:l.a},{path:"*",redirect:"/login"}]});h.beforeEach(function(e,a,i){console.log(e.path),"/about"==e.path?1==u&&(localStorage.removeItem("ashenToken"),console.log("aaaaaaaaaaaaaaaaaaaa")):u>1&&(localStorage.removeItem("ashenToken"),console.log("bbbbbbbbbbbbbbbbbbbb"),u=0),localStorage.ashenToken?(console.log("holy"),t.get("/api/v1/tokens/check",{headers:{Authorization:"Bearer "+localStorage.ashenToken}}).then(function(t){-1===["/lists","/tags","/readinglists","/about"].indexOf(e.path)?i("lists"):i()}).catch(function(t){"/login"!==e.path?i("login"):i()})):(console.log("damn"),"/about"!==e.path?(console.log("shit"),"/login"!==e.path?i("login"):i()):(console.log("fuck"),t.post("/api/v1/tokens",{username:"abc@abc.abc",password:"123"}).then(function(t){var e=t.data;localStorage.setItem("ashenToken",e),i("/about")}).catch(function(t){var e=t.response.data.error;alert(e)}),localStorage.ashenToken&&console.log("hhhhhhhhh")),"/login"!==e.path&&(u+=1),console.log(u))}),e.a=h}).call(e,a("mtWM"))},"sU/h":function(t,e,a){"use strict";function i(t){a("1yN5")}var n=a("Vj15"),s=a("ChSf"),r=a("VU/8"),o=i,c=r(n.a,s.a,!1,o,"data-v-6a03bb02",null);e.a=c.exports},tk68:function(t,e,a){"use strict";(function(t){var i=a("+zRA");e.a={data:function(){return{image:"",message:"",books:[],isDiaShow:!1,isEditing:!1,editingId:"",editingIndex:"",score:0}},components:{Star:i.a},created:function(){var e=this;t.get("/api/v1/books").then(function(t){e.books=t.data}).catch(function(t){return alert(t)}),t.get("/api/v1/image").then(function(t){"you dont have picture yet"==t.data?alert("you dont have picture yet"):e.image=t.data}).catch(function(t){return alert(t)})},methods:{onFileChange:function(t){var e=t.target.files||t.dataTransfer.files;e.length&&this.createImage(e[0])},createImage:function(e){var a=this,i=(new Image,new FileReader),n=this;i.onload=function(e){n.image=e.target.result,t.put("/api/v1/image",n.image).then(function(t){a.message=t.data,"This username already exists!"==a.message?alert("This username already exists!"):"Sign up successfull!"==a.message&&alert("Sign up successfull!")}).catch(function(t){return alert(t)})},i.readAsDataURL(e)},removeImage:function(e){var a=this;this.image="",t.delete("/api/v1/image").then(function(t){a.message=t.data,"delete successfully!"==a.message&&alert("delete successfully!")}).catch(function(t){return alert(t)})},addBook:function(){this.isDiaShow=!0,this.isEditing=!1,this.score=0,document.getElementById("name").value="",document.getElementById("author").value=""},editBook:function(t){this.isDiaShow=!0,this.isEditing=!0,this.score=this.books[t].score,document.getElementById("name").value=this.books[t].name,document.getElementById("author").value=this.books[t].author,this.editingId=this.books[t].id,this.editingIndex=t},deleteBook:function(e){var a=this;t.delete("/api/v1/books/"+this.books[e].id,{headers:{Authorization:"Bearer "+localStorage.ashenToken}}).then(function(t){a.books.splice(e,1)}).catch(function(t){return alert(t)})},hideDialog:function(t){"dialog-container"!==t.target.className&&"cancel"!==t.target.id||(this.isDiaShow=!1)},chooseScore:function(t){var e=t.evt,a=t.width,i=e.offsetX,n=(parseInt(e.target.dataset.index,10)+parseFloat(i/a)).toFixed(2);n>4.9&&(n=5),this.score=n},confirmChange:function(){var e=this;if(this.isEditing){var a=document.getElementById("name").value,i=document.getElementById("author").value,n=this.score,s=this.editingId;a&&i?t.put("/api/v1/books/"+s,{name:a,author:i,score:n},{headers:{Authorization:"Bearer "+localStorage.ashenToken}}).then(function(t){e.books.splice(e.editingIndex,1,{id:s,name:a,author:i,score:n}),e.isDiaShow=!1}).catch(function(t){return alert(t)}):alert("输入信息不完整！")}else{var r=document.getElementById("name").value,o=document.getElementById("author").value,c=this.score;r&&o?t.post("/api/v1/books",{name:r,author:o,score:c},{headers:{Authorization:"Bearer "+localStorage.ashenToken}}).then(function(t){var a=t.data.insertId,i={id:a,name:r,author:o,score:c};e.books.push(i),e.isDiaShow=!1}).catch(function(t){return alert(t)}):alert("输入信息不完整！")}}}}}).call(e,a("mtWM"))},v1Ca:function(t,e,a){"use strict";function i(t){a("AbCK")}var n=a("7oKG"),s=a("auwP"),r=a("VU/8"),o=i,c=r(n.a,s.a,!1,o,"data-v-77a109aa",null);e.a=c.exports},vR1X:function(t,e,a){"use strict";var i=a("EqHB");e.a={components:{Clock:i.default},methods:{logOut:function(){localStorage.removeItem("ashenToken"),this.$router.push("/")}}}},vUEq:function(t,e){},wTV3:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{staticClass:"head-nav"},[t._m(0),t._v(" "),a("div",{staticClass:"content-container"},[t._m(1),t._v(" "),a("section",[a("Clock",{attrs:{blink:!0}})],1),t._v(" "),a("vue-clock"),t._v(" "),a("a",{staticClass:"log-out",on:{click:t.logOut}},[a("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[a("use",{attrs:{"xlink:href":"#icon-tuichu"}})]),t._v(" "),a("span",[t._v(" log out")])])],1)])},n=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"logo-container"},[i("img",{staticClass:"logo",attrs:{src:a("fsoI"),alt:""}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("h4",{staticClass:"title"},[t._v("\n                Profile\n            ")])])}],s={render:i,staticRenderFns:n};e.a=s},xUBe:function(t,e){}},["+amA"]);
//# sourceMappingURL=app.f54ed2a4c0116678adfd.js.map